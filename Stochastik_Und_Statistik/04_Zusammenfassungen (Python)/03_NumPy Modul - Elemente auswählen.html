<!doctype html>
<html>
<head>
    <title>03_NumPy Modul - Elemente auswählen</title>
    <meta charset="utf-8">
    
</head>
<body>
<p></p><h4>Einzelne Elemente auswählen</h4><p>Der Zugriff oder die Zuweisung an die Elemente eines Arrays funktioniert ähnlich wie bei anderen Datentypen von Python, d.h. den Listen und Tupeln. Zudem gibt es verschiedene Möglichkeiten zu indizieren.&nbsp;</p><p>Einzelne Elemente zu indizieren funktioniert so, wie auch sonst in Python üblich:&nbsp;</p><p><i><span class="" style="color: rgb(1, 100, 167);">F = np.array([1, 1, 2, 3, 5, 8, 13, 21])</span><br><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);"># Ausgabe des ersten Elements von F</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">print(F[0])</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);"># Ausgabe letztes Element von F</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">print(F[-1])</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">OUT: 1</span><br></span><span style="font-size: 0.9375rem; color: rgb(1, 100, 167);" class="">OUT: 21</span></i></p><p>und für mehrdimensionale Arrays:</p><p>Mehrdimensionale Arrays indizieren:</p><p></p><p><i><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">A = np.array([ [3.4, 8.7, 9.9],&nbsp;</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[1.1, -7.8, -0.7],</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[4.1, 12.3, 4.8]])</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">print(A[1][0])</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">B = np.array([ [[111, 112], [121, 122]],</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[[211, 212], [221, 222]],</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[[311, 312], [321, 322]] ])</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">print(B[0][1][0])</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">OUT: 1.1</span><br></span><span style="font-size: 0.9375rem; color: rgb(1, 100, 167);" class="">OUT: 121</span></i></p><p><span><span style="font-size: 0.9375rem; color: rgb(1, 100, 167);" class=""></span></span></p><p style=""><span class="" style="color: rgb(51, 51, 51);">Wir haben auf das Element in der zweiten Zeile, d.h. die Zeile mit dem Index 1, und der ersten Spalte (Index 0) zugegriffen. Auf dieses Element haben wir in der gleichen Art zugegriffen, wie wir mit einem Element in einer verschachtelten Python-Liste verfahren wären.</span></p><p style=""><span class="" style="color: rgb(51, 51, 51);">Es gibt aber auch eine Alternative: Wir benutzen nur ein Klammernpaar, und alle Indizes werden mit Kommas separiert:</span></p><p><i><span style="color: rgb(51, 51, 51); font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">print(A[1, 0])</span><br></span><span style="color: rgb(1, 100, 167); font-size: 0.9375rem;" class="">OUT: 1.1</span></i></p><p><span class="" style=""></span></p><p>Dabei ist die zweite Art effizienter. Denn im ersten Fall erzeugen wir als Zwischenschritt ein Array A[1], in dem wir dann auf das Element mit dem Index 0 zugreifen.</p><p></p><h4>Slicing</h4><p>Hierbei schneidet wir gewissermassen eine "Scheibe" aus einem sequentiellen Datentyp oder einem Array heraus.</p><p>Die Syntax in NumPy ist analog zu der von Standardpython im Falle von eindimensionalen Arrays. Allerdings können wir "Slicing" auch auf mehrdimensionale Arrays anwenden.</p><p>Die allgemeine Syntax für den eindimensionalen Fall lautet wie folgt:</p><p><i><span class="" style="color: rgb(1, 100, 167);">[start:stop:step]</span></i><br></p><p>Hierzu nun einige weitere Beispiele. <br>Wir beginnen mit dem einfachsten Fall, also dem eindimensionalen Array:</p><p><i><span class="" style="color: rgb(1, 100, 167);">S = np.array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</span><br><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">print(S[2:5])</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">print(S[:4])</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">print(S[6:])</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">print(S[:])</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">OUT: [2 3 4]</span><br></span><span style="font-size: 0.9375rem; color: rgb(1, 100, 167);" class="">OUT:&nbsp;</span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">[0 1 2 3]</span><br><span class="" style="color: rgb(1, 100, 167);">OUT:&nbsp;</span></span></i><span style="font-size: 0.9375rem;"><i><span class="" style="color: rgb(1, 100, 167);">[6 7 8 9]</span><br><span style="font-size: 0.9375rem; color: rgb(1, 100, 167);" class="">OUT: [0 1 2 3 4 5 6 7 8 9]</span></i><br></span></p><p></p><p></p><p><span style="font-size: 0.9375rem;">Die Anwendung des Teilbereichsoperators auf mehrdimensionale Arrays betrachten wir nun in den folgenden Beispielen. Die Bereiche für jede Dimension werden durch Kommas getrennt:</span></p><p><i><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">A = np.array([</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">[11, 12, 13, 14, 15],</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">[21, 22, 23, 24, 25],</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">[31, 32, 33, 34, 35],</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">[41, 42, 43, 44, 45],</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">[51, 52, 53, 54, 55]])</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">print(A[:3, 2:])</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">OUT: [[13 14 15]</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [23 24 25]</span><br></span><span style="font-size: 0.9375rem; color: rgb(1, 100, 167);" class="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [33 34 35]]</span></i></p><p><i><span class="" style="color: rgb(1, 100, 167);">print(A[3:, :])</span><br><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">OUT: [[41 42 43 44 45]</span><br></span><span style="font-size: 0.9375rem; color: rgb(1, 100, 167);" class="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[51 52 53 54 55]]</span></i></p><p><i><span class="" style="color: rgb(1, 100, 167);">print(A[:, 4:])</span><br><span class="" style="color: rgb(1, 100, 167);">OUT:&nbsp;</span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">[[15]</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [25]</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [35]</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [45]</span><br></span><span style="font-size: 0.9375rem; color: rgb(1, 100, 167);" class="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [55]]</span></i></p><p>Die folgenden beiden Beispiele benutzten auch noch den dritten Parameter "step". Die reshape-Funktion benutzen wir zudem, um ein eindimensionales Array in ein zweidimensionales zu wandeln.&nbsp;<br></p><p><i><span class="" style="color: rgb(1, 100, 167);">X = np.arange(28).reshape(4, 7)</span><br><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">print(X)</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">OUT: [[ 0&nbsp; 1&nbsp; 2&nbsp; 3&nbsp; 4&nbsp; 5&nbsp; 6]</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [ 7&nbsp; 8&nbsp; 9 10 11 12 13]</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [14 15 16 17 18 19 20]</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [21 22 23 24 25 26 27]]</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">print(X[::2, ::3])</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">OUT: [[ 0&nbsp; 3&nbsp; 6]</span><br></span><span style="font-size: 0.9375rem; color: rgb(1, 100, 167);" class="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [14 17 20]]</span></i></p><p><i><span class="" style="color: rgb(1, 100, 167);">print(X[::, ::3])</span><br></i><i style="color: rgb(1, 100, 167); font-size: 0.9375rem;">OUT: [[ 0&nbsp; 3&nbsp; 6]<br></i><i style="color: rgb(1, 100, 167); font-size: 0.9375rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [ 7 10 13]<br></i><i style="color: rgb(1, 100, 167); font-size: 0.9375rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [14 17 20]<br></i><i style="color: rgb(1, 100, 167); font-size: 0.9375rem;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [21 24 27]]</i></p><p><span class="" style="color: rgb(51, 51, 51);">Falls die Zahl der Objekte in dem Auswahltupel kleiner als die Dimension N ist, dann wird ":" für die weiteren, nicht angegebenen Dimensionen angenommen:</span></p><p><i style="color: rgb(1, 100, 167); font-size: 0.9375rem;">A = np.array(<br></i><i style="color: rgb(1, 100, 167); font-size: 0.9375rem;">&nbsp; &nbsp; [ [ [45, 12, 4], [45, 13, 5], [46, 12, 6] ],&nbsp;<br></i><i style="color: rgb(1, 100, 167); font-size: 0.9375rem;">&nbsp; &nbsp; &nbsp; [ [46, 14, 4], [45, 14, 5], [46, 11, 5] ],&nbsp;<br></i><i style="color: rgb(1, 100, 167); font-size: 0.9375rem;">&nbsp; &nbsp; &nbsp; [ [47, 13, 2], [48, 15, 5], [52, 15, 1] ] ])<br></i><i style="color: rgb(1, 100, 167); font-size: 0.9375rem;">A[1:3, 0:2]&nbsp; # equivalent to A[1:3, 0:2, :]</i></p><p><span class="" style="color: rgb(51, 51, 51);">Der obige Python-Code liefert folgendes Ergebnis:</span></p><p><i><span class="" style="color: rgb(1, 100, 167);">OUT: array([[[46, 14,&nbsp; 4],</span><br></i><i style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [45, 14,&nbsp; 5]],</span><br></i><i style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [[47, 13,&nbsp; 2],</span><br></i><i style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[48, 15,&nbsp; 5]]])</span></i></p><p><span>Achtung: Während der Teilbereichsoperator bei Listen und Tupel neue Objekte erzeugt, generiert er bei NumPy nur eine Sicht ("view") auf das Originalarray. Dadurch erhalten wir eine andere Möglichkeit, das Array anzusprechen, oder besser einen Teil des Arrays. Daraus folgt, dass wenn wir etwas in einer Sicht verändern, wir auch das Originalarray verändern:</span></p><p><i style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">A = np.array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</span><br></i><i style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">S = A[2:6]</span><br></i><i style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">S[0] = 22</span><br></i><i style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">S[1] = 23</span><br></i><i style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">print(A)</span><br></i><i style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">OUT: [ 0&nbsp; 1 22 23&nbsp; 4&nbsp; 5&nbsp; 6&nbsp; 7&nbsp; 8&nbsp; 9]</span></i></p><p><i style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);"><br></span></i></p><p><br></p><p></p>
</body>
</html>