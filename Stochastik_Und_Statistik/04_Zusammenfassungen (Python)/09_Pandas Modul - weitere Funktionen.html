<!doctype html>
<html>
<head>
    <title>09_Pandas Modul - weitere Funktionen</title>
    <meta charset="utf-8">
    
</head>
<body>
<h4>Statistikfunktionen:</h4><p>Es ist auch möglich, Statistiken über den gesamten Dataframe oder eine Series abzurufen:</p><p></p><ul><li><span style="font-size: 0.9375rem;">df.mean( ) gibt den Mittelwert aller Spalten zurück.</span></li><li>df.corr( ) gibt die Korrelation zwischen Spalten in einem Dataframe zurück.</li><li>df.count( ) gibt die Anzahl der Nicht-Null-Werte in jeder Dataframe-Spalte zurück.</li><li>df.max( ) gibt den höchsten Wert in jeder Spalte zurück.</li><li>df.min( ) gibt den niedrigsten Wert in jeder Spalte zurück.</li><li>df.median( ) gibt den Median jeder Spalte zurück.</li><li>df.std( ) gibt die Standardabweichung jeder Spalte zurück.</li></ul><h4>Filtern, Sortieren und Gruppieren</h4><p>Filtern: Wir können verschiedene Bedingungen verwenden, um Spalten zu filtern. Zum Beispiel df[df[year] &gt; 1984] würde nur das Spaltenjahr grösser als 1984 liefern. Sie können &amp; (und) oder | (oder) verwenden um andere Bedingungen zu Ihrer Filterung hinzuzufügen.&nbsp;</p><p>Sortieren:&nbsp;<span style="font-size: 0.9375rem;">Es ist möglich, Werte in einer bestimmten Spalte in aufsteigender Reihenfolge zu sortieren df.sort_values(col1) und natürlich auch in absteigender Reihenfolge mit df.sort_values(col2,ascending=False). Ausserdem ist es möglich, Werte col1 in aufsteigender Reihenfolge und dann col2 in absteigender Reihenfolge zu sortieren df.sort_values([col1, col2], ascending = [True, False]).</span></p><p>Gruppieren:&nbsp;<span style="font-size: 0.9375rem;">Dabei werden die Daten nach bestimmten Kriterien in Gruppen aufgeteilt, jede Funktion wird unabhängig auf jede Gruppe angewendet und die Ergebnisse in einer Datenstruktur zusammengefasst. df.groupby(col) gibt ein Groupby-Objekt für Werte aus einer Spalte zurück, während bei df.groupby([col1, col2]) ein Groupby-Objekt für Werte aus mehreren Spalten zurückgegeben werden.</span></p><p><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);"><i>i</i></span><i><span class="" style="color: rgb(1, 100, 167);"><span class="" style="color: rgb(1, 100, 167);">m</span>port pandas as pd</span><br></i></span><i><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">data = {'Team': ['Riders', 'Riders', 'Devils', 'Devils', 'Kings',</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">&nbsp; &nbsp;'kings', 'Kings', 'Kings', 'Riders', 'Royals', 'Royals', 'Riders'],</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">&nbsp; &nbsp;'Rank': [1, 2, 2, 3, 3,4 ,1 ,1,2 , 4,1,2],</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">&nbsp; &nbsp;'Year': [2014,2015,2014,2015,2014,2015,2016,2017,2016,2014,2015,2017],</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">&nbsp; &nbsp;'Points':[876,789,863,673,741,812,756,788,694,701,804,690]}</span><br></span><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">df = pd.DataFrame(data)</span></span></i></p><p><i><span style="font-size: 0.9375rem;"><span style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">print (df.groupby('Team'))</span><br><span class="" style="color: rgb(1, 100, 167);">OUT:&nbsp;</span><br><span class="" style="color: rgb(1, 100, 167);">&lt;pandas.core.groupby.generic.DataFrameGroupBy object at 0x0000023A51604348&gt;</span></span></span></i></p><p><span style=""><i style="font-size: 0.9375rem;"><span class="" style="color: rgb(1, 100, 167);">print (df.groupby('Team').groups)</span><br><span class="" style="color: rgb(1, 100, 167);">OUT:</span><br><span style="font-size: 0.9375rem; color: rgb(1, 100, 167);" class="">{'Devils': Int64Index([2, 3], dtype='int64'), <br>'Kings': Int64Index([4, 6, 7], dtype='int64'), <br>'Riders': Int64Index([0, 1, 8, 11], dtype='int64'), <br>'Royals': Int64Index([9, 10], dtype='int64'), <br>'kings': Int64Index([5], dtype='int64')}</span></i></span></p><p><span style=""><i><span class="" style="color: rgb(1, 100, 167);">print (df.groupby(['Team','Year']).groups)</span><br><span class="" style="color: rgb(1, 100, 167);">OUT:&nbsp;</span><br><span class="" style="color: rgb(1, 100, 167);">{('Devils', 2014): Int64Index([2], dtype='int64'), <br>('Devils', 2015): Int64Index([3], dtype='int64'), <br>('Kings', 2014): Int64Index([4], dtype='int64'), <br>('Kings', 2016): Int64Index([6], dtype='int64'), <br>('Kings', 2017): Int64Index([7], dtype='int64'), <br>('Riders', 2014): Int64Index([0], dtype='int64'), <br>('Riders', 2015): Int64Index([1], dtype='int64'), <br>('Riders', 2016): Int64Index([8], dtype='int64'), <br>('Riders', 2017): Int64Index([11], dtype='int64'), <br>('Royals', 2014): Int64Index([9], dtype='int64'), <br>('Royals', 2015): Int64Index([10], dtype='int64'), <br>('kings', 2015): Int64Index([5], dtype='int64')}</span></i><br></span></p><h4>Datenreinigung</h4><p></p><ul><li>pd.isnull( ):&nbsp;Überprüfen nach fehlenden Werten; ein boolesches Array wird zurückgeben</li><li>pd.notnull( ): Gegenteil von pd.isnull( )</li><li>pd.isnull( ).sum( ): Summe von Nullen / fehlenden Werten&nbsp;</li><li>df.dropna( ):&nbsp;Zeilen mit fehlenden Werten entfernen</li><li>df.dropna(axis = 1): Spalten&nbsp;mit fehlenden Werten entfernen</li><li>df.fillna(x): fehlende Werte mit x füllen, z.B.&nbsp;df.fillna(df.mean( ))</li><li>df.replace(x,y): Werte gleich x mit y ersetzen, z.B.&nbsp;&nbsp;df.replace(1, ‘one’)</li><li>df.rename(columns = {‘old_name’: ‘new_ name’}):&nbsp;Spalten umbenennen</li><li>df.set_index(‘column_one’):&nbsp;Index des Dataframe ändern</li></ul><h4>Kombinieren von Dataframes</h4><p></p><ul><li><span style="font-size: 0.9375rem;">df1.append(df2): füge die Zeilen df1 am Ende von df2 hinzu&nbsp;(Spalten sollten identisch sein)</span></li><li>df.concat([df1, df2], axis = 1): füge die Spalten df1 am Ende von df2 hinzu&nbsp;(Zeilen sollten identisch sein)</li></ul><p></p><p></p><p><span style="font-size: 0.9375rem;"><br></span></p><p></p>
</body>
</html>